(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))g(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&g(f)}).observe(document,{childList:!0,subtree:!0});function u(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function g(e){if(e.ep)return;e.ep=!0;const o=u(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const L=document.querySelector(".btnMenu"),d=document.querySelector(".closeMenu"),u=document.querySelector(".fullMenu"),g=()=>{u&&(u.classList.add("show"),document.body.classList.add("menuOpen"))},e=()=>{u&&(u.classList.remove("show"),document.body.classList.remove("menuOpen"))};L&&L.addEventListener("click",g),d&&d.addEventListener("click",e);const o=document.querySelector("#about");if(o){const s=[...o.querySelectorAll(".introLine")];let n=0;s.forEach((t,r)=>{t.dataset.step=String(r+1)});const i=new IntersectionObserver(t=>{t.forEach(r=>{if(!r.isIntersecting)return;const a=Number(r.target.dataset.step||"0");if(a>n){for(let m=n+1;m<=a;m++)o.classList.add(`step-${m}`);n=a}i.unobserve(r.target)})},{root:null,threshold:.5,rootMargin:"0px 0px -20% 0px"});s.forEach(t=>i.observe(t))}const f=document.querySelector(".fullMenu .logo"),M=document.querySelectorAll('.navWrap a[href^="#"]'),b=document.querySelector("header"),O=()=>b?b.offsetHeight:0,S=(s,n="smooth")=>{const i=document.getElementById(s);if(!i)return;const t=O(),r=window.pageYOffset+i.getBoundingClientRect().top,a=s==="contact"?t:-t;window.scrollTo({top:r+a,behavior:n})},I=s=>{s.preventDefault();const n=s.currentTarget.getAttribute("href");if(!n||!n.startsWith("#"))return;const t=n.slice(1).toLowerCase();S(t,t==="contact"?"auto":"smooth"),e()};M.forEach(s=>s.addEventListener("click",I)),f&&f.addEventListener("click",()=>{S("home","smooth"),e()});const p=document.querySelector("#projects"),c=p?.querySelector(".projectsInner");if(p&&c){let s=0,n=0,i=!1,t=!1;const r=()=>{const l=c.scrollWidth,w=window.innerWidth;s=Math.max(0,l-w)},a=()=>{i=!1;const l=n,w=p.offsetTop,q=p.offsetHeight,T=window.innerHeight,y=w,E=w+q-T,j=(E-y)*1.5;if(l<y){c.classList.remove("is-fixed","is-bottom"),c.style.transform="translateX(0)";return}if(l>E){c.classList.remove("is-fixed"),c.classList.add("is-bottom"),c.style.transform=`translateX(${-s}px)`;return}c.classList.add("is-fixed"),c.classList.remove("is-bottom");let h=(l-y)/j;h<0&&(h=0),h>1&&(h=1);const H=-s*h;c.style.transform=`translateX(${H}px)`},m=()=>{i||(i=!0,window.requestAnimationFrame(a))},v=()=>{n=window.pageYOffset||document.documentElement.scrollTop,m()},x=()=>{r(),v()};r(),new IntersectionObserver(([l])=>{l.isIntersecting&&!t&&(t=!0,window.addEventListener("scroll",v,{passive:!0}),window.addEventListener("resize",x),v()),!l.isIntersecting&&t&&(t=!1,window.removeEventListener("scroll",v),window.removeEventListener("resize",x))},{root:null,threshold:0,rootMargin:"200px 0px 200px 0px"}).observe(p)}});
